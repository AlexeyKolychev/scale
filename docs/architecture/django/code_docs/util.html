

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>util package &mdash; Scale 5.9.0-snapshot documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'5.9.0-snapshot',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="util.test package" href="util.test.html" />
    <link rel="prev" title="trigger.test package" href="trigger.test.html" />
    <link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Scale
          

          
            
            <img src="../../../_static/scale3-transparent-128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/index.html">Command Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../algorithm_integration/index.html">Algorithm Integration into Scale</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jobs/index.html">Jobs and Recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../logs.html">ElasticSearch Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../messaging.html">Messaging System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../port.html">Import/Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scan.html">Scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../strike.html">Strike</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../triggers.html">Triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspaces.html">Workspaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Django/Code Base</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch.html">batch package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cli.html">cli package</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html">data package</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostic.html">diagnostic package</a></li>
<li class="toctree-l3"><a class="reference internal" href="error.html">error package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingest.html">ingest package</a></li>
<li class="toctree-l3"><a class="reference internal" href="job.html">job package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesos_api.html">mesos_api package</a></li>
<li class="toctree-l3"><a class="reference internal" href="messaging.html">messaging package</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">metrics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="node.html">node package</a></li>
<li class="toctree-l3"><a class="reference internal" href="port.html">port package</a></li>
<li class="toctree-l3"><a class="reference internal" href="product.html">product package</a></li>
<li class="toctree-l3"><a class="reference internal" href="queue.html">queue package</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe.html">recipe package</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html">scheduler package</a></li>
<li class="toctree-l3"><a class="reference internal" href="shared_resource.html">shared_resource package</a></li>
<li class="toctree-l3"><a class="reference internal" href="source.html">source package</a></li>
<li class="toctree-l3"><a class="reference internal" href="storage.html">storage package</a></li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html">trigger package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">util package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.apps">util.apps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.aws">util.aws module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.broker">util.broker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.command">util.command module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.dcos">util.dcos module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.deprecation">util.deprecation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.environment">util.environment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.exceptions">util.exceptions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.file_size">util.file_size module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.host">util.host module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.lock">util.lock module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.middleware">util.middleware module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.os_helper">util.os_helper module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.parse">util.parse module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.rest">util.rest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.retry">util.retry module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util.validation">util.validation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-util">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="vault.html">vault package</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage.html">manage module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest/index.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development/index.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Scale</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Architecture</a> &raquo;</li>
        
          <li><a href="../index.html">Django/Code Base</a> &raquo;</li>
        
      <li>util package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/architecture/django/code_docs/util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="util-package">
<h1>util package<a class="headerlink" href="#util-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="util.test.html">util.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_aws">util.test.test_aws module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_broker">util.test.test_broker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_command">util.test.test_command module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_host">util.test.test_host module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_parse">util.test.test_parse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_rest">util.test.test_rest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test.test_retry">util.test.test_retry module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.test.html#module-util.test">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-util.apps">
<span id="util-apps-module"></span><h2>util.apps module<a class="headerlink" href="#module-util.apps" title="Permalink to this headline">¶</a></h2>
<p>Defines the application configuration for the util application</p>
<dl class="class">
<dt id="util.apps.UtilConfig">
<em class="property">class </em><code class="descclassname">util.apps.</code><code class="descname">UtilConfig</code><span class="sig-paren">(</span><em>app_name</em>, <em>app_module</em><span class="sig-paren">)</span><a class="headerlink" href="#util.apps.UtilConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.apps.config.AppConfig</span></code></p>
<p>Configuration for the util app</p>
<dl class="attribute">
<dt id="util.apps.UtilConfig.label">
<code class="descname">label</code><em class="property"> = u'util'</em><a class="headerlink" href="#util.apps.UtilConfig.label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="util.apps.UtilConfig.name">
<code class="descname">name</code><em class="property"> = u'util'</em><a class="headerlink" href="#util.apps.UtilConfig.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="util.apps.UtilConfig.verbose_name">
<code class="descname">verbose_name</code><em class="property"> = u'Util'</em><a class="headerlink" href="#util.apps.UtilConfig.verbose_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.aws">
<span id="util-aws-module"></span><h2>util.aws module<a class="headerlink" href="#module-util.aws" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for testing AWS credentials and access to required resources</p>
<dl class="class">
<dt id="util.aws.AWSClient">
<em class="property">class </em><code class="descclassname">util.aws.</code><code class="descname">AWSClient</code><span class="sig-paren">(</span><em>resource</em>, <em>config</em>, <em>credentials=None</em>, <em>region_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.AWSClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Manages automatically creating and destroying clients to AWS services.</p>
<dl class="staticmethod">
<dt id="util.aws.AWSClient.instantiate_credentials_from_config">
<em class="property">static </em><code class="descname">instantiate_credentials_from_config</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.AWSClient.instantiate_credentials_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract credential keys from configuration and return instantiated credential object</p>
<p>If values provided in the <cite>access_key_id</cite> or <cite>secret_access_key</cite> keys of <cite>credentials</cite> configuration object are
empty, None will be returned. In this case, role-based authentication should be attempted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<code class="xref py py-class docutils literal"><span class="pre">botocore.client.Config</span></code>) &#8211; Resource specific configuration</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">instantiated credential object or None if keys provided were empty</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#util.aws.AWSCredentials" title="util.aws.AWSCredentials"><code class="xref py py-class docutils literal"><span class="pre">util.aws.AWSCredentials</span></code></a></td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.exceptions.InvalidAWSCredentials" title="util.exceptions.InvalidAWSCredentials"><code class="xref py py-class docutils literal"><span class="pre">util.exceptions.InvalidAWSCredentials</span></code></a>: If the credentials provided are incomplete.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.aws.AWSCredentials">
<em class="property">class </em><code class="descclassname">util.aws.</code><code class="descname">AWSCredentials</code><span class="sig-paren">(</span><em>access_key_id</em>, <em>secret_access_key</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.AWSCredentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="util.aws.AWSCredentials.access_key_id">
<code class="descname">access_key_id</code><a class="headerlink" href="#util.aws.AWSCredentials.access_key_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="util.aws.AWSCredentials.secret_access_key">
<code class="descname">secret_access_key</code><a class="headerlink" href="#util.aws.AWSCredentials.secret_access_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.aws.S3Client">
<em class="property">class </em><code class="descclassname">util.aws.</code><code class="descname">S3Client</code><span class="sig-paren">(</span><em>credentials=None</em>, <em>region_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.S3Client" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#util.aws.AWSClient" title="util.aws.AWSClient"><code class="xref py py-class docutils literal"><span class="pre">util.aws.AWSClient</span></code></a></p>
<dl class="method">
<dt id="util.aws.S3Client.get_bucket">
<code class="descname">get_bucket</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>validate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.S3Client.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a reference to an S3 bucket with the given identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; The unique name of the bucket to retrieve.</li>
<li><strong>validate</strong> (<em>bool</em>) &#8211; Whether to perform a request that verifies the bucket actually exists.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The bucket object for the given name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">boto3.s3.Bucket</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>:raises <code class="xref py py-class docutils literal"><span class="pre">botocore.exceptions.ClientError</span></code>: If the bucket fails to validate.</p>
</dd></dl>

<dl class="method">
<dt id="util.aws.S3Client.get_object">
<code class="descname">get_object</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>key_name</em>, <em>validate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.S3Client.get_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a reference to an S3 object with the given identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; The unique name of the bucket to retrieve.</li>
<li><strong>key_name</strong> (<em>string</em>) &#8211; The unique name of the object to retrieve that is associated with a file.</li>
<li><strong>validate</strong> (<em>bool</em>) &#8211; Whether to perform a request that verifies the object actually exists.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The S3 object for the given name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">boto3.s3.Object</span></code></p>
</td>
</tr>
</tbody>
</table>
<p>:raises <code class="xref py py-class docutils literal"><span class="pre">botocore.exceptions.ClientError</span></code>: If the request is invalid.
:raises <code class="xref py py-class docutils literal"><span class="pre">storage.exceptions.FileDoesNotExist</span></code>: If the file is not found in the bucket.</p>
</dd></dl>

<dl class="method">
<dt id="util.aws.S3Client.list_objects">
<code class="descname">list_objects</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>recursive=False</em>, <em>prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.S3Client.list_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator function to retrieve list of objects within an S3 bucket</p>
<p>Retrieval of objects is provided by the boto3 paginator over 
list_objects. This allows for simple paging support with unbounded
object counts. As a result of the time that may be required for the full
result set to be returned, the results are returned via a generator. 
This generator will contain objects of type <cite>storage.brokers.broker.FileDetails</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; The unique name of the bucket to retrieve.</li>
<li><strong>recursive</strong> (<em>bool</em>) &#8211; Whether the bucket should be recursively searched from the given prefix</li>
<li><strong>prefix</strong> (<em>string</em>) &#8211; The parent key from which to search bucket. Trailing slash is optional</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Generator of S3 objects that were found.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Generator[<a class="reference internal" href="storage.brokers.html#storage.brokers.broker.FileDetails" title="storage.brokers.broker.FileDetails"><code class="xref py py-class docutils literal"><span class="pre">storage.brokers.broker.FileDetails</span></code></a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.aws.SQSClient">
<em class="property">class </em><code class="descclassname">util.aws.</code><code class="descname">SQSClient</code><span class="sig-paren">(</span><em>credentials=None</em>, <em>region_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.SQSClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#util.aws.AWSClient" title="util.aws.AWSClient"><code class="xref py py-class docutils literal"><span class="pre">util.aws.AWSClient</span></code></a></p>
<dl class="method">
<dt id="util.aws.SQSClient.get_queue_by_name">
<code class="descname">get_queue_by_name</code><span class="sig-paren">(</span><em>queue_name</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.SQSClient.get_queue_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a SQS queue by the given name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>queue_name</strong> (<em>string</em>) &#8211; The unique name of the SQS queue</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Queue resource to perform queue operations</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">boto3.sqs.Queue</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.aws.SQSClient.receive_messages">
<code class="descname">receive_messages</code><span class="sig-paren">(</span><em>queue_name</em>, <em>batch_size=100</em>, <em>wait_time_seconds=20</em>, <em>visibility_timeout_seconds=30</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.SQSClient.receive_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a batch of messages from an SQS queue</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>queue_name</strong> &#8211; </li>
<li><strong>batch_size</strong> (<em>int</em>) &#8211; Number of messages to retrieve in a single pass</li>
<li><strong>wait_time_seconds</strong> (<em>int</em>) &#8211; Long-poll duration of request (max of 20). Ends immediately when message published.</li>
<li><strong>visibility_timeout_seconds</strong> (<em>int</em>) &#8211; Duration for a message to be hidden after retrieved from the queue.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Generator of messages</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Generator[<cite>boto3.sqs.Message</cite>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.aws.SQSClient.send_message">
<code class="descname">send_message</code><span class="sig-paren">(</span><em>queue_name</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.SQSClient.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to SQS queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_name</strong> (<em>string</em>) &#8211; The unique name of the SQS queue</li>
<li><strong>message</strong> (<em>string</em>) &#8211; Message to send to SQS queue</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.aws.SQSClient.send_messages">
<code class="descname">send_messages</code><span class="sig-paren">(</span><em>queue_name</em>, <em>messages</em><span class="sig-paren">)</span><a class="headerlink" href="#util.aws.SQSClient.send_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a batch of messages to SQS queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_name</strong> (<em>string</em>) &#8211; The unique name of the SQS queue</li>
<li><strong>messages</strong> ([<cite>SendMessageBatchRequestEntry</cite>]) &#8211; Messages to send to SQS queue</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.broker">
<span id="util-broker-module"></span><h2>util.broker module<a class="headerlink" href="#module-util.broker" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="util.broker.BrokerDetails">
<em class="property">class </em><code class="descclassname">util.broker.</code><code class="descname">BrokerDetails</code><a class="headerlink" href="#util.broker.BrokerDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="util.broker.BrokerDetails.from_broker_url">
<em class="property">static </em><code class="descname">from_broker_url</code><span class="sig-paren">(</span><em>broker_url</em><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.from_broker_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a BrokerDetails object from a broker URL</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>broker_url</strong> (<em>string</em>) &#8211; URL containing connection information to message broker</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Instantiated object containing details within broker URL</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.broker.BrokerDetails.get_address">
<code class="descname">get_address</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.get_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extracted broker host and port or region depending on backend type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Broker host and port or region of backend</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.broker.BrokerDetails.get_password">
<code class="descname">get_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.get_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extracted password for broker authentication.</p>
<p>May be None if credentials are not specified in broker URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Password for broker authentication</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.broker.BrokerDetails.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.get_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the transport broker type defined in URL</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Transport type for broker connection</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.broker.BrokerDetails.get_user_name">
<code class="descname">get_user_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.get_user_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extracted user name for broker authentication.</p>
<p>May be None if credentials are not specified in broker URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">User name for broker authentication</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="util.broker.BrokerDetails.get_virtual_host">
<code class="descname">get_virtual_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.broker.BrokerDetails.get_virtual_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Get extracted virtual host of broker backend</p>
<p>May be None if virtual host is not specified in broker URL</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Virtual host for broker connection</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.command">
<span id="util-command-module"></span><h2>util.command module<a class="headerlink" href="#module-util.command" title="Permalink to this headline">¶</a></h2>
<p>Defines utility functions for executing commands on the command line.</p>
<dl class="exception">
<dt id="util.command.CommandError">
<em class="property">exception </em><code class="descclassname">util.command.</code><code class="descname">CommandError</code><span class="sig-paren">(</span><em>msg</em>, <em>returncode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.command.CommandError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="function">
<dt id="util.command.environment_expansion">
<code class="descclassname">util.command.</code><code class="descname">environment_expansion</code><span class="sig-paren">(</span><em>env_map</em>, <em>cmd_string</em>, <em>remove_extras=False</em><span class="sig-paren">)</span><a class="headerlink" href="#util.command.environment_expansion" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs environment variable expansion into command string</p>
<p>The original preference was to use bash directly, eliminating the need for us to maintain
regular expressions to mimic bash expansion logic. Unfortunately, the overhead of instantiating
a sub-shell was prohibitively high on a large scale.</p>
<p>We are instead handling merely a subset of expansion options:
$VAR
${VAR}
${VAR/#/PREFIX}</p>
<p>WARNING: Resulting string should be treated as sensitive, due to the possibility
of secrets being injected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env_map</strong> (<em>dict</em>) &#8211; map of environment variables to their values</li>
<li><strong>cmd_string</strong> (<em>str</em>) &#8211; string to inject environment variables into</li>
<li><strong>remove_extras</strong> (<em>bool</em>) &#8211; whether to remove extra parameters that do not have a value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">string with parameters expanded</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.exceptions.UnbalancedBrackets" title="util.exceptions.UnbalancedBrackets"><code class="xref py py-class docutils literal"><span class="pre">util.exceptions.UnbalancedBrackets</span></code></a>: if brackets are not balanced in cmd_string</p>
</dd></dl>

<dl class="function">
<dt id="util.command.execute_command_line">
<code class="descclassname">util.command.</code><code class="descname">execute_command_line</code><span class="sig-paren">(</span><em>cmd_list</em><span class="sig-paren">)</span><a class="headerlink" href="#util.command.execute_command_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command list on the command line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cmd_list</strong> (<em>[</em><em>]</em>) &#8211; The list of commands</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.dcos">
<span id="util-dcos-module"></span><h2>util.dcos module<a class="headerlink" href="#module-util.dcos" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="util.dcos.make_dcos_request">
<code class="descclassname">util.dcos.</code><code class="descname">make_dcos_request</code><span class="sig-paren">(</span><em>host_address</em>, <em>relative_url</em>, <em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.dcos.make_dcos_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a requests that is capable of traversing DCOS EE Strict boundary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>master</strong> (<cite>util.host.HostAddress</cite>) &#8211; The address for the Mesos master</li>
<li><strong>relative_url</strong> (<em>basestring</em>) &#8211; URL path relative to the base address</li>
<li><strong>params</strong> (<em>dict</em>) &#8211; The query parameters for request</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The request response object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">requests.Response</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.deprecation">
<span id="util-deprecation-module"></span><h2>util.deprecation module<a class="headerlink" href="#module-util.deprecation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="util.deprecation.JSONStringField">
<em class="property">class </em><code class="descclassname">util.deprecation.</code><code class="descname">JSONStringField</code><span class="sig-paren">(</span><em>verbose_name=None</em>, <em>name=None</em>, <em>encoder=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#util.deprecation.JSONStringField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">django.contrib.postgres.fields.jsonb.JSONField</span></code></p>
<dl class="method">
<dt id="util.deprecation.JSONStringField.db_type">
<code class="descname">db_type</code><span class="sig-paren">(</span><em>connection</em><span class="sig-paren">)</span><a class="headerlink" href="#util.deprecation.JSONStringField.db_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.environment">
<span id="util-environment-module"></span><h2>util.environment module<a class="headerlink" href="#module-util.environment" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="util.environment.normalize_env_var_name">
<code class="descclassname">util.environment.</code><code class="descname">normalize_env_var_name</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#util.environment.normalize_env_var_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a normalized version of the given string name so it can be used as the name of an environment variable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>string</em>) &#8211; The string name to normalize</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The normalized environment variable name</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.exceptions">
<span id="util-exceptions-module"></span><h2>util.exceptions module<a class="headerlink" href="#module-util.exceptions" title="Permalink to this headline">¶</a></h2>
<p>Defines utility exceptions</p>
<dl class="exception">
<dt id="util.exceptions.FileDoesNotExist">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">FileDoesNotExist</code><a class="headerlink" href="#util.exceptions.FileDoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception indicating an attempt was made to access a file that no longer exists</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.InvalidAWSCredentials">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">InvalidAWSCredentials</code><a class="headerlink" href="#util.exceptions.InvalidAWSCredentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception indicating missing credentials required to successfully authenticate to AWS</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.InvalidBrokerUrl">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">InvalidBrokerUrl</code><a class="headerlink" href="#util.exceptions.InvalidBrokerUrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception indicating the broker URL does not meet the format requirements</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.RollbackTransaction">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">RollbackTransaction</code><a class="headerlink" href="#util.exceptions.RollbackTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception that can be thrown and swallowed to explicitly rollback a transaction</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.ScaleLogicBug">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">ScaleLogicBug</code><a class="headerlink" href="#util.exceptions.ScaleLogicBug" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception that indicates a critical Scale logic bug has occurred</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.ServiceAccountAuthFailure">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">ServiceAccountAuthFailure</code><a class="headerlink" href="#util.exceptions.ServiceAccountAuthFailure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception indicating failure of request to login or communicate with DCOS using service account</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.TerminatedCommand">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">TerminatedCommand</code><a class="headerlink" href="#util.exceptions.TerminatedCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception that can be thrown to indicate that a Scale command recieved a SIGTERM signal</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.UnbalancedBrackets">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">UnbalancedBrackets</code><a class="headerlink" href="#util.exceptions.UnbalancedBrackets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception thrown when a string is provided that contains unbalanced curly brackets</p>
</dd></dl>

<dl class="exception">
<dt id="util.exceptions.ValidationException">
<em class="property">exception </em><code class="descclassname">util.exceptions.</code><code class="descname">ValidationException</code><span class="sig-paren">(</span><em>name</em>, <em>description</em><span class="sig-paren">)</span><a class="headerlink" href="#util.exceptions.ValidationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception indicating there was a validation error</p>
</dd></dl>

</div>
<div class="section" id="module-util.file_size">
<span id="util-file-size-module"></span><h2>util.file_size module<a class="headerlink" href="#module-util.file_size" title="Permalink to this headline">¶</a></h2>
<p>Defines a utility method for displaying file sizes</p>
<dl class="function">
<dt id="util.file_size.file_size_to_string">
<code class="descclassname">util.file_size.</code><code class="descname">file_size_to_string</code><span class="sig-paren">(</span><em>file_size</em><span class="sig-paren">)</span><a class="headerlink" href="#util.file_size.file_size_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given file size as a human-readable string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_size</strong> (<em>long</em>) &#8211; The file size</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The human-readable string</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.host">
<span id="util-host-module"></span><h2>util.host module<a class="headerlink" href="#module-util.host" title="Permalink to this headline">¶</a></h2>
<p>Defines the named tuple for host locations</p>
<dl class="class">
<dt id="util.host.HostAddress">
<em class="property">class </em><code class="descclassname">util.host.</code><code class="descname">HostAddress</code><span class="sig-paren">(</span><em>hostname</em>, <em>port</em>, <em>protocol</em><span class="sig-paren">)</span><a class="headerlink" href="#util.host.HostAddress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="util.host.HostAddress.hostname">
<code class="descname">hostname</code><a class="headerlink" href="#util.host.HostAddress.hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="util.host.HostAddress.port">
<code class="descname">port</code><a class="headerlink" href="#util.host.HostAddress.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="util.host.HostAddress.protocol">
<code class="descname">protocol</code><a class="headerlink" href="#util.host.HostAddress.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="util.host.host_address_from_mesos_url">
<code class="descclassname">util.host.</code><code class="descname">host_address_from_mesos_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#util.host.host_address_from_mesos_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract URL components from a Mesos Master URL</p>
<p>Must include the protocol prefix. Ports may be omitted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>basestring</em>) &#8211; The URL to parse</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Parsed URL components</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#util.host.HostAddress" title="util.host.HostAddress"><code class="xref py py-class docutils literal"><span class="pre">util.host.HostAddress</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.lock">
<span id="util-lock-module"></span><h2>util.lock module<a class="headerlink" href="#module-util.lock" title="Permalink to this headline">¶</a></h2>
<p>Defines a lock that logs activity for deadlock debugging</p>
<dl class="class">
<dt id="util.lock.DebugLock">
<em class="property">class </em><code class="descclassname">util.lock.</code><code class="descname">DebugLock</code><span class="sig-paren">(</span><em>class_name</em><span class="sig-paren">)</span><a class="headerlink" href="#util.lock.DebugLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="util.lock.DebugLock.acquire">
<code class="descname">acquire</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.lock.DebugLock.acquire" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="util.lock.DebugLock.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.lock.DebugLock.release" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.middleware">
<span id="util-middleware-module"></span><h2>util.middleware module<a class="headerlink" href="#module-util.middleware" title="Permalink to this headline">¶</a></h2>
<p>Common middleware classes used in the web server configuration.</p>
<dl class="class">
<dt id="util.middleware.ExceptionLoggingMiddleware">
<em class="property">class </em><code class="descclassname">util.middleware.</code><code class="descname">ExceptionLoggingMiddleware</code><span class="sig-paren">(</span><em>get_response</em><span class="sig-paren">)</span><a class="headerlink" href="#util.middleware.ExceptionLoggingMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="util.middleware.ExceptionLoggingMiddleware.process_exception">
<code class="descname">process_exception</code><span class="sig-paren">(</span><em>request</em>, <em>exception</em><span class="sig-paren">)</span><a class="headerlink" href="#util.middleware.ExceptionLoggingMiddleware.process_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs exceptions during service calls.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.middleware.MultipleProxyMiddleware">
<em class="property">class </em><code class="descclassname">util.middleware.</code><code class="descname">MultipleProxyMiddleware</code><span class="sig-paren">(</span><em>get_response</em><span class="sig-paren">)</span><a class="headerlink" href="#util.middleware.MultipleProxyMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Rewrites the proxy headers so that only the first the proxy forwarded host is used.</p>
<p>By default Django, does not support forwarding the server host name when sitting behind multiple proxy servers.
Without this middleware the host name returned to the client will contain both proxy names delimited by a comma,
which will not redirect properly. The original example code this class was based on used the host header value from
the most recent proxy server. Since the first proxy server in our infrastructure is the host name used by external
users however, we want to always take that name instead.</p>
<p>Code derived from the Django documentation for &#8220;Request and response objects&#8221;, HttpRequest.get_host() method.</p>
<dl class="attribute">
<dt id="util.middleware.MultipleProxyMiddleware.FORWARDED_FOR_FIELDS">
<code class="descname">FORWARDED_FOR_FIELDS</code><em class="property"> = ['HTTP_X_FORWARDED_FOR', 'HTTP_X_FORWARDED_HOST', 'HTTP_X_FORWARDED_SERVER']</em><a class="headerlink" href="#util.middleware.MultipleProxyMiddleware.FORWARDED_FOR_FIELDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util.os_helper">
<span id="util-os-helper-module"></span><h2>util.os_helper module<a class="headerlink" href="#module-util.os_helper" title="Permalink to this headline">¶</a></h2>
<p>Helper methods for os operations</p>
<dl class="function">
<dt id="util.os_helper.makedirs">
<code class="descclassname">util.os_helper.</code><code class="descname">makedirs</code><span class="sig-paren">(</span><em>path</em>, <em>mode=493</em><span class="sig-paren">)</span><a class="headerlink" href="#util.os_helper.makedirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-util.parse">
<span id="util-parse-module"></span><h2>util.parse module<a class="headerlink" href="#module-util.parse" title="Permalink to this headline">¶</a></h2>
<p>Defines utility functions for parsing data.</p>
<dl class="function">
<dt id="util.parse.datetime_to_string">
<code class="descclassname">util.parse.</code><code class="descname">datetime_to_string</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#util.parse.datetime_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given datetime into an appropriate ISO-8601 string format for JSON</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code>) &#8211; The datetime to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The ISO-8601 string format</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.parse.duration_to_string">
<code class="descclassname">util.parse.</code><code class="descname">duration_to_string</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#util.parse.duration_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given timedelta into an appropriate ISO-8601 duration format for JSON. Only handles positive
durations correctly. Fractional seconds are rounded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code>) &#8211; The timedelta to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The ISO-8601 duration format</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.parse.parse_datetime">
<code class="descclassname">util.parse.</code><code class="descname">parse_datetime</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#util.parse.parse_datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="util.parse.parse_duration">
<code class="descclassname">util.parse.</code><code class="descname">parse_duration</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#util.parse.parse_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a duration string and returns a datetime.timedelta.
Unlike the standard Django 1.8 function, this only accepts ISO 8601 durations.</p>
</dd></dl>

<dl class="function">
<dt id="util.parse.parse_timestamp">
<code class="descclassname">util.parse.</code><code class="descname">parse_timestamp</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#util.parse.parse_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses any valid ISO date/time, duration, or timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>str</em>) &#8211; The raw string value to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The result of parsing the given string value.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime.datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.rest">
<span id="util-rest-module"></span><h2>util.rest module<a class="headerlink" href="#module-util.rest" title="Permalink to this headline">¶</a></h2>
<p>Defines utilities for building RESTful APIs.</p>
<dl class="exception">
<dt id="util.rest.BadParameter">
<em class="property">exception </em><code class="descclassname">util.rest.</code><code class="descname">BadParameter</code><span class="sig-paren">(</span><em>detail=None</em>, <em>code=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.BadParameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rest_framework.exceptions.APIException</span></code></p>
<p>Exception indicating a REST API call contains an invalid value or a missing required parameter.</p>
<dl class="attribute">
<dt id="util.rest.BadParameter.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#util.rest.BadParameter.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.rest.DefaultPagination">
<em class="property">class </em><code class="descclassname">util.rest.</code><code class="descname">DefaultPagination</code><a class="headerlink" href="#util.rest.DefaultPagination" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rest_framework.pagination.PageNumberPagination</span></code></p>
<p>Default configuration class for the paging system.</p>
<dl class="attribute">
<dt id="util.rest.DefaultPagination.max_page_size">
<code class="descname">max_page_size</code><em class="property"> = 1000</em><a class="headerlink" href="#util.rest.DefaultPagination.max_page_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="util.rest.DefaultPagination.page_size">
<code class="descname">page_size</code><em class="property"> = 100</em><a class="headerlink" href="#util.rest.DefaultPagination.page_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="util.rest.DefaultPagination.page_size_query_param">
<code class="descname">page_size_query_param</code><em class="property"> = u'page_size'</em><a class="headerlink" href="#util.rest.DefaultPagination.page_size_query_param" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.rest.ModelIdSerializer">
<em class="property">class </em><code class="descclassname">util.rest.</code><code class="descname">ModelIdSerializer</code><span class="sig-paren">(</span><em>instance=None</em>, <em>data=&lt;class rest_framework.fields.empty&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.ModelIdSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rest_framework.serializers.Serializer</span></code></p>
<p>Converts a model to a lightweight place holder object with only an identifier to REST output</p>
</dd></dl>

<dl class="class">
<dt id="util.rest.PlainTextRenderer">
<em class="property">class </em><code class="descclassname">util.rest.</code><code class="descname">PlainTextRenderer</code><a class="headerlink" href="#util.rest.PlainTextRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rest_framework.renderers.BaseRenderer</span></code></p>
<p>Encodes a string using the requested character set and renders it as text/plain.</p>
<dl class="attribute">
<dt id="util.rest.PlainTextRenderer.format">
<code class="descname">format</code><em class="property"> = u'txt'</em><a class="headerlink" href="#util.rest.PlainTextRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="util.rest.PlainTextRenderer.media_type">
<code class="descname">media_type</code><em class="property"> = u'text/plain'</em><a class="headerlink" href="#util.rest.PlainTextRenderer.media_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="util.rest.PlainTextRenderer.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>data</em>, <em>media_type=None</em>, <em>renderer_context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.PlainTextRenderer.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="util.rest.ReadOnly">
<em class="property">exception </em><code class="descclassname">util.rest.</code><code class="descname">ReadOnly</code><span class="sig-paren">(</span><em>detail=None</em>, <em>code=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.ReadOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">rest_framework.exceptions.APIException</span></code></p>
<p>Exception indicating a REST API call is attempting to update a field that does not support it.</p>
<dl class="attribute">
<dt id="util.rest.ReadOnly.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#util.rest.ReadOnly.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="util.rest.check_time_range">
<code class="descclassname">util.rest.</code><code class="descname">check_time_range</code><span class="sig-paren">(</span><em>started</em>, <em>ended</em>, <em>max_duration=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.check_time_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the given time range is valid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>started</strong> (<em>datetime.datetime</em><em> or </em><em>None</em>) &#8211; The start of a time range.</li>
<li><strong>ended</strong> (<em>datetime.datetime</em><em> or </em><em>None</em>) &#8211; The end of a time range.</li>
<li><strong>max_duration</strong> (<em>datetime.timedelta</em>) &#8211; The maximum amount of time between the started and ended range.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True when the time range is valid.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If there is a problem with the time range.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.check_together">
<code class="descclassname">util.rest.</code><code class="descname">check_together</code><span class="sig-paren">(</span><em>names</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.check_together" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a list of fields as a group. Either all or none of the fields should be provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>names</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; The list of field names to check.</li>
<li><strong>values</strong> (<em>[</em><em>object</em><em>]</em>) &#8211; The list of field values to check.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True when all parameters are provided and false if none of the parameters are provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the list of fields is mismatched.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.check_update">
<code class="descclassname">util.rest.</code><code class="descname">check_update</code><span class="sig-paren">(</span><em>request</em>, <em>fields</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.check_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the given request includes fields that are not allowed to be updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>fields</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; A list of field names that are permitted.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True when the request does not include extra fields.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.ReadOnly" title="util.rest.ReadOnly"><code class="xref py py-class docutils literal"><span class="pre">util.rest.ReadOnly</span></code></a>: If the request includes unsupported fields to update.
:raises <code class="xref py py-class docutils literal"><span class="pre">exceptions.AssertionError</span></code>: If fields in not a list or None.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.get_relative_days">
<code class="descclassname">util.rest.</code><code class="descname">get_relative_days</code><span class="sig-paren">(</span><em>days</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.get_relative_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a relative date/time in the past without any time offsets.</p>
<p>This is useful when a service wants to have a default value of, for example 7 days back. If an ISO duration format
is used, such as P7D then the current time will be factored in which results in the earliest day being incomplete
when computing an absolute time stamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>days</strong> (<em>int</em>) &#8211; The number of days back to calculate from now.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An absolute time stamp that is the complete range of relative days back.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime.datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.rest.get_url">
<code class="descclassname">util.rest.</code><code class="descname">get_url</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.get_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds an absolute URL from the given path with any required prefixes, such as the default REST API version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) &#8211; A URL path to combine with the default prefix.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The absolute path to use when calling the target URL path.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.rest.get_versioned_urls">
<code class="descclassname">util.rest.</code><code class="descname">get_versioned_urls</code><span class="sig-paren">(</span><em>apps</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.get_versioned_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a list of URLs for applications with REST APIs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>apps</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; A list of application names to register.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of URLs for REST APIs with version prefixes.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">[<code class="xref py py-class docutils literal"><span class="pre">django.core.urlresolvers.RegexURLPattern</span></code>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.rest.has_params">
<code class="descclassname">util.rest.</code><code class="descname">has_params</code><span class="sig-paren">(</span><em>request</em>, <em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.has_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether one or more parameters are included in the request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>names</strong> (<em>string</em>) &#8211; One or more parameter names to check.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True when all the parameters are provided or false if at least one is not provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_bool">
<code class="descclassname">util.rest.</code><code class="descname">parse_bool</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a bool parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>bool</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_datetime">
<code class="descclassname">util.rest.</code><code class="descname">parse_datetime</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a datetime parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>datetime.datetime</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">datetime.datetime</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_dict">
<code class="descclassname">util.rest.</code><code class="descname">parse_dict</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a dictionary parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>dict</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_dict_list">
<code class="descclassname">util.rest.</code><code class="descname">parse_dict_list</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_dict_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a list of dictionary parameters from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>dict</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">[dict]</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_duration">
<code class="descclassname">util.rest.</code><code class="descname">parse_duration</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a time duration parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>datetime.timedelta</em><em> or </em><em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">datetime.timedelta</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_float">
<code class="descclassname">util.rest.</code><code class="descname">parse_float</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em>, <em>accepted_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a floating point parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>float</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
<li><strong>accepted_values</strong> (<em>[</em><em>float</em><em>]</em>) &#8211; A list of values that are acceptable for the parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_int">
<code class="descclassname">util.rest.</code><code class="descname">parse_int</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em>, <em>accepted_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses an integer parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>int</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
<li><strong>accepted_values</strong> (<em>[</em><em>int</em><em>]</em>) &#8211; A list of values that are acceptable for the parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_int_list">
<code class="descclassname">util.rest.</code><code class="descname">parse_int_list</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em>, <em>accepted_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_int_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a list of int parameters from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>[</em><em>int</em><em>]</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
<li><strong>accepted_values</strong> (<em>[</em><em>int</em><em>]</em>) &#8211; A list of values that are acceptable for the parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The values of the named parameter or the default values if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">[int]</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed or does not match the validation list.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_string">
<code class="descclassname">util.rest.</code><code class="descname">parse_string</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em>, <em>accepted_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a string parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
<li><strong>accepted_values</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; A list of values that are acceptable for the parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_string_list">
<code class="descclassname">util.rest.</code><code class="descname">parse_string_list</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em>, <em>accepted_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_string_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a list of string parameters from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
<li><strong>accepted_values</strong> (<em>[</em><em>string</em><em>]</em>) &#8211; A list of values that are acceptable for the parameter.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The values of the named parameter or the default values if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">[string]</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed or does not match the validation list.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.parse_timestamp">
<code class="descclassname">util.rest.</code><code class="descname">parse_timestamp</code><span class="sig-paren">(</span><em>request</em>, <em>name</em>, <em>default_value=None</em>, <em>required=True</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.parse_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses any valid ISO datetime, duration, or timestamp parameter from the given request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>default_value</strong> (<em>datetime.datetime</em><em> or </em><em>datetime.timedelta</em><em> or </em><em>string</em>) &#8211; The name of the parameter to parse.</li>
<li><strong>required</strong> (<em>bool</em>) &#8211; Indicates whether or not the parameter is required. An exception will be raised if the parameter
does not exist, there is no default value, and required is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of the named parameter or the default value if provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">datetime.datetime</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <a class="reference internal" href="#util.rest.BadParameter" title="util.rest.BadParameter"><code class="xref py py-class docutils literal"><span class="pre">util.rest.BadParameter</span></code></a>: If the value cannot be parsed.</p>
</dd></dl>

<dl class="function">
<dt id="util.rest.strip_schema_version">
<code class="descclassname">util.rest.</code><code class="descname">strip_schema_version</code><span class="sig-paren">(</span><em>json_dict</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.strip_schema_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given JSON dict after stripping its schema version out</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>json_dict</strong> (<em>dict</em>) &#8211; The JSON dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The JSON dict with its schema version stripped out</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.rest.title_to_name">
<code class="descclassname">util.rest.</code><code class="descname">title_to_name</code><span class="sig-paren">(</span><em>queryset</em>, <em>title</em><span class="sig-paren">)</span><a class="headerlink" href="#util.rest.title_to_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an identifying name for a model from a human readable title</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<code class="xref py py-class docutils literal"><span class="pre">rest_framework.request.Request</span></code>) &#8211; The context of an active HTTP request.</li>
<li><strong>title</strong> (<em>string</em>) &#8211; The title to convert</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The generated identifying name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>:raises <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code>: If unable to generate a unique name.</p>
</dd></dl>

</div>
<div class="section" id="module-util.retry">
<span id="util-retry-module"></span><h2>util.retry module<a class="headerlink" href="#module-util.retry" title="Permalink to this headline">¶</a></h2>
<p>Defines decorators for performing function retries with exponential backoff</p>
<dl class="function">
<dt id="util.retry.retry">
<code class="descclassname">util.retry.</code><code class="descname">retry</code><span class="sig-paren">(</span><em>no_arg_func=None</em>, <em>ex_class=&lt;type 'exceptions.Exception'&gt;</em>, <em>max_tries=3</em>, <em>base_ms_delay=1000</em>, <em>max_ms_delay=30000</em><span class="sig-paren">)</span><a class="headerlink" href="#util.retry.retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the decorated function so that it is retried with exponential backoff. On the first retry, the delay is a
random number of milliseconds between 0 and base_ms_delay. The upper bound is then doubled for each successive
retry. A retry delay will not exceed max_ms_delay milliseconds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>no_arg_func</strong> (<em>function</em>) &#8211; The function to retry (only populated if decorator used without args)</li>
<li><strong>ex_class</strong> (<em>class</em><em> or </em><em>tuple of classes</em>) &#8211; The exception(s) that should cause the function to retry</li>
<li><strong>max_tries</strong> (<em>int</em>) &#8211; The maximum number of times to call the function</li>
<li><strong>base_ms_delay</strong> (<em>int</em>) &#8211; The base time to delay in milliseconds before retrying the function</li>
<li><strong>max_ms_delay</strong> (<em>int</em>) &#8211; The maximum time to delay in milliseconds</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="util.retry.retry_database_query">
<code class="descclassname">util.retry.</code><code class="descname">retry_database_query</code><span class="sig-paren">(</span><em>no_arg_func=None</em>, <em>max_tries=5</em>, <em>base_ms_delay=1000</em>, <em>max_ms_delay=30000</em><span class="sig-paren">)</span><a class="headerlink" href="#util.retry.retry_database_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the decorated function so that it is retried with exponential backoff if any operational database errors
(disconnect, too many connections, etc) occurs. On the first retry, the delay is a random number of milliseconds
between 0 and base_ms_delay. The upper bound is then doubled for each successive retry. A retry delay will not
exceed max_ms_delay milliseconds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>no_arg_func</strong> (<em>function</em>) &#8211; The function to retry (only populated if decorator used without args)</li>
<li><strong>max_tries</strong> (<em>int</em>) &#8211; The maximum number of times to call the function</li>
<li><strong>base_ms_delay</strong> (<em>int</em>) &#8211; The base time to delay in milliseconds before retrying the function</li>
<li><strong>max_ms_delay</strong> (<em>int</em>) &#8211; The maximum time to delay in milliseconds</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-util.validation">
<span id="util-validation-module"></span><h2>util.validation module<a class="headerlink" href="#module-util.validation" title="Permalink to this headline">¶</a></h2>
<p>Defines classes related to validating</p>
<dl class="class">
<dt id="util.validation.ValidationError">
<em class="property">class </em><code class="descclassname">util.validation.</code><code class="descname">ValidationError</code><span class="sig-paren">(</span><em>name</em>, <em>description</em><span class="sig-paren">)</span><a class="headerlink" href="#util.validation.ValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Tracks errors during validation</p>
<dl class="method">
<dt id="util.validation.ValidationError.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.validation.ValidationError.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict representation of the error</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The dict representation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="util.validation.ValidationWarning">
<em class="property">class </em><code class="descclassname">util.validation.</code><code class="descname">ValidationWarning</code><span class="sig-paren">(</span><em>name</em>, <em>description</em><span class="sig-paren">)</span><a class="headerlink" href="#util.validation.ValidationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Tracks warnings during validation</p>
<dl class="method">
<dt id="util.validation.ValidationWarning.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#util.validation.ValidationWarning.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict representation of the warning</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The dict representation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-util" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="util.test.html" class="btn btn-neutral float-right" title="util.test package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="trigger.test.html" class="btn btn-neutral float-left" title="trigger.test package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NGA

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>