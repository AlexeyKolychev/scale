

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Job Data &mdash; Scale 4.3.0-snapshot documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Scale 4.3.0-snapshot documentation" href="../../index.html"/>
        <link rel="up" title="Jobs and Recipes" href="index.html"/>
        <link rel="next" title="Job Configuration" href="job_configuration.html"/>
        <link rel="prev" title="Job Type Configuration" href="job_type_configuration.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Scale
          

          
            
            <img src="../../_static/scale3-transparent-128.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                4.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Command Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../algorithm_integration/index.html">Algorithm Integration into Scale</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Jobs and Recipes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch_definition.html">Batch Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="error_interface.html">Errors Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_interface.html">Job Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_type_configuration.html">Job Type Configuration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Job Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#job-data-specification-version-1-0">Job Data Specification Version 1.0</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="job_configuration.html">Job Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe_definition.html">Recipe Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="recipe_data.html">Recipe Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../logs.html">ElasticSearch Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../port.html">Import/Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scan.html">Scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../strike.html">Strike</a></li>
<li class="toctree-l2"><a class="reference internal" href="../triggers.html">Triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspaces.html">Workspaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../django/index.html">Django/Code Base</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rest/index.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scale</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Architecture</a> &raquo;</li>
        
          <li><a href="index.html">Jobs and Recipes</a> &raquo;</li>
        
      <li>Job Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/architecture/jobs/job_data.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="job-data">
<span id="architecture-jobs-job-data"></span><h1>Job Data<a class="headerlink" href="#job-data" title="Permalink to this headline">¶</a></h1>
<p>The job data is a JSON document that defines the actual data and configuration on which a specific job will run. It will
describe all of the data being passed to the job&#8217;s inputs, as well as configuration for how to handle the job&#8217;s output.
The job data is required when placing a specific job on the queue for the first time.</p>
<p>Consider our previous example algorithm, make_geotiff.py, from <a class="reference internal" href="job_interface.html#architecture-jobs-interface"><span>Job Interface</span></a>. The job data for
queuing and running a make_geotiff.py job could be defined as follows:</p>
<p><strong>Example job data:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
   <span class="s2">&quot;input_data&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span>
         <span class="s2">&quot;file_id&quot;</span><span class="o">:</span> <span class="mi">1234</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;georeference_data&quot;</span><span class="p">,</span>
         <span class="s2">&quot;file_id&quot;</span><span class="o">:</span> <span class="mi">1235</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;output_data&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;geo_image&quot;</span><span class="p">,</span>
         <span class="s2">&quot;workspace_id&quot;</span><span class="o">:</span> <span class="mi">12</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <em>input_data</em> value is a list detailing the data to pass to each input to the job. In this case the input called
<em>image</em> that takes a PNG image file is being passed a file from the Scale system that has the unique ID 1234, and the
input called <em>georeference_data</em> which takes a CSV file is being passed a Scale file with the ID 1235. The <em>output_data</em>
value is a list detailing the configuration for handling the job&#8217;s outputs, which in our example is a single GeoTIFF
file. The configuration in our example defines that after the GeoTIFF file is produced by the job, it should be stored
in the workspace with the unique ID 12. To see all of the options for defining job data, please refer to the Job Data
Specification below.</p>
<div class="section" id="job-data-specification-version-1-0">
<span id="architecture-jobs-job-data-spec"></span><h2>Job Data Specification Version 1.0<a class="headerlink" href="#job-data-specification-version-1-0" title="Permalink to this headline">¶</a></h2>
<p>A valid job data is a JSON document with the following structure:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="nx">STRING</span><span class="p">,</span>
   <span class="s2">&quot;input_data&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">STRING</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="nx">STRING</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">STRING</span><span class="p">,</span>
         <span class="s2">&quot;file_id&quot;</span><span class="o">:</span> <span class="nx">INTEGER</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">STRING</span><span class="p">,</span>
         <span class="s2">&quot;file_ids&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="nx">INTEGER</span><span class="p">,</span>
            <span class="nx">INTEGER</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;output_data&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">STRING</span><span class="p">,</span>
         <span class="s2">&quot;workspace_id&quot;</span><span class="o">:</span> <span class="nx">INTEGER</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>version</strong>: JSON string</p>
<blockquote>
<div>The <em>version</em> is an optional string value that defines the version of the data specification used. This allows
updates to be made to the specification while maintaining backwards compatibility by allowing Scale to recognize an
older version and convert it to the current version. The default value for <em>version</em> if it is not included is the
latest version, which is currently 1.0. It is recommended, though not required, that you include the <em>version</em> so
that future changes to the specification will still accept your job data.</div></blockquote>
<p><strong>input_data</strong>: JSON array</p>
<blockquote>
<div><p>The <em>input_data</em> is a list of JSON objects that define the actual data the job receives for its inputs. If not
provided, <em>input_data</em> defaults to an empty list (no input data). For the job data to be valid, every required input
in the matching job interface must have a corresponding entry in this <em>input_data</em> field. The JSON object that
represents each input data has the following fields:</p>
<p><strong>name</strong>: JSON string</p>
<blockquote>
<div>The <em>name</em> is a required string that gives the name of the input that the data is being provided for. It should
match the name of an input in the job&#8217;s interface. The name of every input and output in the job data must be
unique.</div></blockquote>
<p>The other fields that describe the data being passed to the input are based upon the <em>type</em> of the input as it is
defined in the job interface, see <a class="reference internal" href="job_interface.html#architecture-jobs-interface-spec"><span>Job Interface Specification Version 1.2</span></a>. The valid types from the job interface
specification are:</p>
<p><strong>property</strong></p>
<blockquote>
<div><p>A &#8220;property&#8221; input has the following additional field:</p>
<p><strong>value</strong>: JSON string</p>
<blockquote>
<div>The <em>value</em> field contains the string value that will be passed to the &#8220;property&#8221; input.</div></blockquote>
</div></blockquote>
<p><strong>file</strong></p>
<blockquote>
<div><p>A &#8220;file&#8221; input has the following additional field:</p>
<p><strong>file_id</strong>: JSON number</p>
<blockquote>
<div>The required <em>file_id</em> field contains the unique ID of a file in the Scale system that will be passed to the
input. The file must meet all of the criteria defined in the job interface for the input.</div></blockquote>
</div></blockquote>
<p><strong>files</strong></p>
<blockquote>
<div><p>A &#8220;files&#8221; input has the following additional field:</p>
<p><strong>file_ids</strong>: JSON array</p>
<blockquote>
<div>The required <em>file_ids</em> field is a list of unique IDs of the files in the Scale system that will be passed
to the input. Each file must meet all of the criteria defined in the job interface for the input. A &#8220;files&#8221;
input will accept a <em>file_id</em> field instead of a <em>file_ids</em> field (the input will be passed a list
containing the single file).</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><strong>output_data</strong>: JSON array</p>
<blockquote>
<div><p>The <em>output_data</em> is a list of JSON objects that define the details for how the job should handle its
outputs. If not provided, <em>output_data</em> defaults to an empty list (no output data). For the job data to be valid,
every output in the matching job interface must have a corresponding entry in this <em>output_data</em> field. The JSON
object that represents each output data has the following fields:</p>
<p><strong>name</strong>: JSON string</p>
<blockquote>
<div>The <em>name</em> is a required string that gives the name of the input that the data is being provided for. It should
match the name of an input in the job&#8217;s interface. The name of every input and output in the job data must be
unique.</div></blockquote>
<p>The other fields that describe the output configuration are based upon the <em>type</em> of the output as it is defined in
the job interface, see <a class="reference internal" href="job_interface.html#architecture-jobs-interface-spec"><span>Job Interface Specification Version 1.2</span></a>. The valid types from the job interface specification
are:</p>
<p><strong>file</strong></p>
<blockquote>
<div><p>A &#8220;file&#8221; output has the following additional field:</p>
<p><strong>workspace_id</strong>: JSON number</p>
<blockquote>
<div>The required <em>workspace_id</em> field contains the unique ID of the workspace in the Scale system that this
output file should be stored in after it is produced.</div></blockquote>
</div></blockquote>
<p><strong>files</strong></p>
<blockquote>
<div><p>A &#8220;files&#8221; output has the following additional field:</p>
<p><strong>workspace_id</strong>: JSON number</p>
<blockquote>
<div>The required <em>workspace_id</em> field contains the unique ID of the workspace in the Scale system that these
output files should be stored in after they are produced.</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="job_configuration.html" class="btn btn-neutral float-right" title="Job Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="job_type_configuration.html" class="btn btn-neutral" title="Job Type Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NGA.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'4.3.0-snapshot',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>