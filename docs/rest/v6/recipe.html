

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v6 Recipe Services &mdash; Scale 5.7.1-snapshot documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v6 Scale File Services" href="scale_file.html" />
    <link rel="prev" title="v6 Node Services" href="node.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Scale
          

          
            
            <img src="../../_static/scale3-transparent-128.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                5.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Command Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../algorithm_integration/index.html">Algorithm Integration into Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/index.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">REST API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#api-versions">API Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#current-v5-services">Current v5 Services</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#future-v6-services">Future v6 Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="batch.html">v6 Batch Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html">v6 Data Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagnostic.html">v6 Diagnostic Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="error.html">v6 Error Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingest.html">v6 Ingest Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="job.html">v6 Job Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="job_type.html">v6 Job Type Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">v6 Metrics Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="node.html">v6 Node Services</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">v6 Recipe Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recipe-forced-nodes-json">Recipe Forced Nodes JSON</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recipe-instance-json">Recipe Instance JSON</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scale_file.html">v6 Scale File Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan.html">v6 Scan Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html">v6 Scheduler Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="strike.html">v6 Strike Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="system.html">v6 System Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="workspace.html">V6 Workspace Services</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scale</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">REST API</a> &raquo;</li>
        
      <li>v6 Recipe Services</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/rest/v6/recipe.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v6-recipe-services">
<span id="rest-v6-recipe"></span><h1>v6 Recipe Services<a class="headerlink" href="#v6-recipe-services" title="Permalink to this headline">¶</a></h1>
<p>These services allow for the creation and management of recipes. A recipe type is a user-defined workflow that allows
jobs and recipes to be connected together in order to pass output from jobs to the input of other jobs.</p>
<div class="section" id="recipe-forced-nodes-json">
<span id="rest-v6-recipe-json-forced-nodes"></span><h2>Recipe Forced Nodes JSON<a class="headerlink" href="#recipe-forced-nodes-json" title="Permalink to this headline">¶</a></h2>
<p>A recipe forced nodes JSON describes the set of recipe nodes (jobs, sub-recipes, etc) that should be forced to
re-process even if there are no changes to the node.</p>
<p><strong>Example recipe forced nodes:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;all&quot;</span><span class="o">:</span> <span class="nx">False</span><span class="p">,</span>
   <span class="s2">&quot;nodes&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;job_a_1&quot;</span><span class="p">,</span> <span class="s2">&quot;job_a_2&quot;</span><span class="p">,</span> <span class="s2">&quot;recipe_b&quot;</span><span class="p">,</span> <span class="s2">&quot;recipe_c&quot;</span><span class="p">],</span>
   <span class="s2">&quot;sub_recipes&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;recipe_b&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;all&quot;</span><span class="o">:</span> <span class="nx">True</span>
      <span class="p">},</span>
      <span class="s2">&quot;recipe_c&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;all&quot;</span><span class="o">:</span> <span class="nx">False</span><span class="p">,</span>
         <span class="s2">&quot;nodes&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;job_c_1&quot;</span><span class="p">,</span> <span class="s2">&quot;job_c_2&quot;</span><span class="p">]</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="13%" />
<col width="8%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="4"><strong>Recipe Forced Nodes</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>all</td>
<td>Boolean</td>
<td>Required</td>
<td>If true, then all nodes within the recipe should be forced to
re-process and the &#8216;nodes&#8217; and &#8216;sub_recipes&#8217; fields should be
omitted. If false, then the &#8216;nodes&#8217; array is used to indicate which
nodes should be forced to re-process.</td>
</tr>
<tr class="row-odd"><td>nodes</td>
<td>Array</td>
<td>Optional</td>
<td>An array listing the names of the recipe nodes that should be
forced to re-process.</td>
</tr>
<tr class="row-even"><td>sub_recipes</td>
<td>JSON object</td>
<td>Optional</td>
<td>A JSON object where the key names are the sub-recipe node names
that are being forced to re-process. The values are forced nodes
JSON objects that recursively define the nodes with the sub-recipe
to force to reprocess.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="recipe-instance-json">
<span id="rest-v6-recipe-json-instance"></span><h2>Recipe Instance JSON<a class="headerlink" href="#recipe-instance-json" title="Permalink to this headline">¶</a></h2>
<p>A recipe instance JSON describes an instance of a running recipe.</p>
<p><strong>Example recipe instance:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;nodes&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;node_a&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">[],</span>
         <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="s2">&quot;job&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_name&quot;</span><span class="o">:</span> <span class="s2">&quot;job-type-1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_version&quot;</span><span class="o">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_revision&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;job_id&quot;</span><span class="o">:</span> <span class="mi">1234</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="s2">&quot;COMPLETED&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;node_b&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;node_a&quot;</span><span class="p">}],</span>
         <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="s2">&quot;job&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_name&quot;</span><span class="o">:</span> <span class="s2">&quot;job-type-2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_version&quot;</span><span class="o">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;job_type_revision&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;job_id&quot;</span><span class="o">:</span> <span class="mi">1235</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="s2">&quot;COMPLETED&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;node_c&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;node_b&quot;</span><span class="p">}],</span>
         <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="s2">&quot;recipe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;recipe_type_name&quot;</span><span class="o">:</span> <span class="s2">&quot;recipe-type-1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;recipe_type_revision&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;recipe_id&quot;</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">&quot;is_completed&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">&quot;jobs_total&quot;</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
            <span class="s2">&quot;jobs_pending&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;jobs_blocked&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;jobs_queued&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;jobs_running&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;jobs_failed&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;jobs_completed&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;jobs_canceled&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;sub_recipes_total&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;sub_recipes_completed&quot;</span><span class="o">:</span> <span class="mi">1</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;node_d&quot;</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;node_a&quot;</span><span class="p">}],</span>
         <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;node_type&quot;</span><span class="o">:</span> <span class="s2">&quot;condition&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condition_id&quot;</span><span class="o">:</span> <span class="mi">999</span><span class="p">,</span>
            <span class="s2">&quot;is_processed&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;is_accepted&quot;</span><span class="o">:</span> <span class="kc">false</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="13%" />
<col width="8%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="4"><strong>Recipe Instance</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>nodes</td>
<td>JSON object</td>
<td>Required</td>
<td>All of the nodes within the recipe stored by node name</td>
</tr>
<tr class="row-odd"><td>dependencies</td>
<td>Array</td>
<td>Required</td>
<td>The list of dependencies for this recipe node. Each JSON object in
the list has a single string field called <em>name</em> giving the node
name of the dependency.</td>
</tr>
<tr class="row-even"><td>node_type</td>
<td>JSON object</td>
<td>Required</td>
<td>An object describing the type of the node</td>
</tr>
<tr class="row-odd"><td>node_type</td>
<td>String</td>
<td>Required</td>
<td>The type of the node, either &#8216;job&#8217; or &#8216;recipe&#8217;</td>
</tr>
<tr class="row-even"><td>condition_id</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;condition&#8217; node) The unique ID of the condition</td>
</tr>
<tr class="row-odd"><td>is_processed</td>
<td>Boolean</td>
<td>Required</td>
<td>(&#8216;condition&#8217; node) Whether the condition has been processed
(evaluated)</td>
</tr>
<tr class="row-even"><td>is_accepted</td>
<td>Boolean</td>
<td>Required</td>
<td>(&#8216;condition&#8217; node) Whether the condition has been accepted. If
accepted, the nodes depending on the condition will be created and
processed. If not accepted, the nodes depending on the condition
will not be created or processed.</td>
</tr>
<tr class="row-odd"><td>job_type_name</td>
<td>String</td>
<td>Required</td>
<td>(&#8216;job&#8217; node) The name of the job type</td>
</tr>
<tr class="row-even"><td>job_type_version</td>
<td>String</td>
<td>Required</td>
<td>(&#8216;job&#8217; node) The version of the job type</td>
</tr>
<tr class="row-odd"><td>job_type_revision</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;job&#8217; node) The revision of the job type</td>
</tr>
<tr class="row-even"><td>job_id</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;job&#8217; node) The unique ID of the job</td>
</tr>
<tr class="row-odd"><td>status</td>
<td>String</td>
<td>Required</td>
<td>(&#8216;job&#8217; node) The job&#8217;s status</td>
</tr>
<tr class="row-even"><td>recipe_type_name</td>
<td>String</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The name of the recipe type</td>
</tr>
<tr class="row-odd"><td>recipe_type_revision</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The revision of the recipe type</td>
</tr>
<tr class="row-even"><td>recipe_id</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The unique ID of the recipe</td>
</tr>
<tr class="row-odd"><td>is_completed</td>
<td>Boolean</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) Whether the recipe has completed or not</td>
</tr>
<tr class="row-even"><td>jobs_total</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The total number of jobs in the recipe</td>
</tr>
<tr class="row-odd"><td>jobs_pending</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of PENDING jobs in the recipe</td>
</tr>
<tr class="row-even"><td>jobs_blocked</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of BLOCKED jobs in the recipe</td>
</tr>
<tr class="row-odd"><td>jobs_queued</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of QUEUED jobs in the recipe</td>
</tr>
<tr class="row-even"><td>jobs_running</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of RUNNING jobs in the recipe</td>
</tr>
<tr class="row-odd"><td>jobs_failed</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of FAILED jobs in the recipe</td>
</tr>
<tr class="row-even"><td>jobs_completed</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of COMPLETED jobs in the recipe</td>
</tr>
<tr class="row-odd"><td>jobs_canceled</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of CANCELED jobs in the recipe</td>
</tr>
<tr class="row-even"><td>sub_recipes_total</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The total number of sub-recipes in the recipe</td>
</tr>
<tr class="row-odd"><td>sub_recipes_completed</td>
<td>Integer</td>
<td>Required</td>
<td>(&#8216;recipe&#8217; node) The number of completed sub-recipes in the recipe</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scale_file.html" class="btn btn-neutral float-right" title="v6 Scale File Services" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="node.html" class="btn btn-neutral" title="v6 Node Services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NGA

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'5.7.1-snapshot',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>