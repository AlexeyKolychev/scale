

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scheduler Services &mdash; Scale 3.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Scale 3.0 documentation" href="../../index.html" />
    <link rel="up" title="RESTful HTTP Interface" href="index.html" />
    <link rel="next" title="Source File Services" href="source_file.html" />
    <link rel="prev" title="Scale File Services" href="scale_file.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="source_file.html" title="Source File Services"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scale_file.html" title="Scale File Services"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Scale 3.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Interface</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">RESTful HTTP Interface</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="scheduler-services">
<span id="scheduler-node"></span><h1>Scheduler Services<a class="headerlink" href="#scheduler-services" title="Permalink to this headline">Â¶</a></h1>
<p>These services provide access to information about the scheduler.
There should be one and only one scheduler entry in the database and it is used to store global data like paused status.</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="16%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Get Scheduler</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="3">Returns data for the scheduler</td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>GET</strong> /scheduler/</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>Successful Response</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="2">200 OK</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td>is_paused</td>
<td>Boolean</td>
<td>True if the scheduler is paused. This functions like individually pausing
all nodes but maintains separated state so toggling this back to unpaused
results in the previous individual node pause state.</td>
</tr>
<tr class="row-odd"><td colspan="3"><div class="first last highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;is_paused&quot;</span><span class="o">:</span> <span class="nx">False</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>Error Responses</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="2">500 INTERNAL SERVER ERROR</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>text/plain</em></td>
</tr>
<tr class="row-odd"><td colspan="3">An internal error occurred, often this will indicate a missing database entry.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="16%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Update Scheduler</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="3">Update one or more fields for the scheduler.</td>
</tr>
<tr class="row-odd"><td colspan="3"><dl class="first last docutils">
<dt><strong>PATCH</strong> /scheduler/</dt>
<dd>All fields are optional and additional fields are not tolerated.</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td>is_paused</td>
<td>Boolean</td>
<td>(Optional) True if the scheduler should be paused, false to resume.</td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>Successful Response</strong></td>
</tr>
<tr class="row-even"><td><strong>Status</strong></td>
<td colspan="2">201 CREATED</td>
</tr>
<tr class="row-odd"><td><strong>Location</strong></td>
<td colspan="2">URL pointing to the scheduler information (should be the same as the request URL)</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="3">Response format is identical to GET but contains the updated data.</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-odd"><td>is_paused</td>
<td>Boolean</td>
<td>True if the scheduler is paused. This functions like individually pausing
all nodes but maintains separated state so toggling this back to unpaused
results in the previous individual node pause state.</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>Error Responses</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="2">400 BAD REQUEST</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>text/plain</em></td>
</tr>
<tr class="row-odd"><td colspan="3">Unexpected fields were specified. An error message lists them. Or no fields were specified.</td>
</tr>
<tr class="row-even"><td><strong>Status</strong></td>
<td colspan="2">500 INTERNAL SERVER ERROR</td>
</tr>
<tr class="row-odd"><td><strong>Content Type</strong></td>
<td colspan="2"><em>text/plain</em></td>
</tr>
<tr class="row-even"><td colspan="3">An internal error occurred, often this will indicate a missing database entry.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Get System Status</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="3">Returns overall master, scheduler, and cluster information, including hardware resources.</td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>GET</strong> /status/</td>
</tr>
<tr class="row-even"><td colspan="3"><strong>Successful Response</strong></td>
</tr>
<tr class="row-odd"><td><strong>Status</strong></td>
<td colspan="2">200 OK</td>
</tr>
<tr class="row-even"><td><strong>Content Type</strong></td>
<td colspan="2"><em>application/json</em></td>
</tr>
<tr class="row-odd"><td colspan="3"><strong>JSON Fields</strong></td>
</tr>
<tr class="row-even"><td>master</td>
<td>JSON Object</td>
<td>Overall status information for the master host</td>
</tr>
<tr class="row-odd"><td>master.hostname</td>
<td>String</td>
<td>The network name of the master host</td>
</tr>
<tr class="row-even"><td>master.port</td>
<td>Integer</td>
<td>The network port of the master host</td>
</tr>
<tr class="row-odd"><td>master.is_online</td>
<td>Boolean</td>
<td>Indicates whether or not the master host is running and available</td>
</tr>
<tr class="row-even"><td>scheduler</td>
<td>JSON Object</td>
<td>Overall status information for the scheduler framework</td>
</tr>
<tr class="row-odd"><td>scheduler.hostname</td>
<td>String</td>
<td>The network name of the scheduler host</td>
</tr>
<tr class="row-even"><td>scheduler.is_online</td>
<td>Boolean</td>
<td>Indicates whether or not the scheduler host is running and available</td>
</tr>
<tr class="row-odd"><td>scheduler.is_paused</td>
<td>Boolean</td>
<td>Indicates whether or not the scheduler framework is currently paused</td>
</tr>
<tr class="row-even"><td>queue_depth</td>
<td>Integer</td>
<td>The number of tasks currently scheduled on the queue</td>
</tr>
<tr class="row-odd"><td>resources</td>
<td>JSON Object</td>
<td>(Optional) Information about the overall hardware resources of the cluster
NOTE: Resource information may not always be available</td>
</tr>
<tr class="row-even"><td>resources.total</td>
<td>JSON Object</td>
<td>The total hardware resources for all nodes in the cluster</td>
</tr>
<tr class="row-odd"><td>resources.total.cpus</td>
<td>Float</td>
<td>The total number of CPUs for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td>resources.total.mem</td>
<td>Float</td>
<td>The total amount of RAM in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-odd"><td>resources.total.disk</td>
<td>Float</td>
<td>The total amount of disk space in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td>resources.scheduled</td>
<td>JSON Object</td>
<td>The scheduled hardware resources for all nodes in the cluster</td>
</tr>
<tr class="row-odd"><td>resources.scheduled.cpus</td>
<td>Float</td>
<td>The scheduled number of CPUs for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td>resources.scheduled.mem</td>
<td>Float</td>
<td>The scheduled amount of RAM in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-odd"><td>resources.scheduled.disk</td>
<td>Float</td>
<td>The scheduled amount of disk space in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td>resources.used</td>
<td>JSON Object</td>
<td>The used hardware resources for all nodes in the cluster
NOTE: Real-time resource usage is not currently available and will be all zero</td>
</tr>
<tr class="row-odd"><td>resources.used.cpus</td>
<td>Float</td>
<td>The used number of CPUs for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td>resources.used.mem</td>
<td>Float</td>
<td>The used amount of RAM in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-odd"><td>resources.used.disk</td>
<td>Float</td>
<td>The used amount of disk space in MiB for all nodes in the cluster</td>
</tr>
<tr class="row-even"><td colspan="3"><div class="first last highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;master&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is_online&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;hostname&quot;</span><span class="o">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="o">:</span> <span class="mi">5050</span>
    <span class="p">},</span>
    <span class="s2">&quot;scheduler&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;is_online&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">&quot;is_paused&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="s2">&quot;hostname&quot;</span><span class="o">:</span> <span class="s2">&quot;localhost&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;queue_depth&quot;</span><span class="o">:</span> <span class="mi">1234</span><span class="p">,</span>
    <span class="s2">&quot;resources&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;total&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;cpus&quot;</span><span class="o">:</span> <span class="mf">16.0</span><span class="p">,</span>
            <span class="s2">&quot;mem&quot;</span><span class="o">:</span> <span class="mf">63305.0</span><span class="p">,</span>
            <span class="s2">&quot;disk&quot;</span><span class="o">:</span> <span class="mf">131485.0</span>
        <span class="p">},</span>
        <span class="s2">&quot;scheduled&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;cpus&quot;</span><span class="o">:</span> <span class="mf">12.0</span><span class="p">,</span>
            <span class="s2">&quot;mem&quot;</span><span class="o">:</span> <span class="mf">35392.0</span><span class="p">,</span>
            <span class="s2">&quot;disk&quot;</span><span class="o">:</span> <span class="mf">131408.0</span>
        <span class="p">},</span>
        <span class="s2">&quot;used&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;cpus&quot;</span><span class="o">:</span> <span class="mf">16.0</span><span class="p">,</span>
            <span class="s2">&quot;mem&quot;</span><span class="o">:</span> <span class="mf">63305.0</span><span class="p">,</span>
            <span class="s2">&quot;disk&quot;</span><span class="o">:</span> <span class="mf">131485.0</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="scale_file.html"
                        title="previous chapter">Scale File Services</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="source_file.html"
                        title="next chapter">Source File Services</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/interface/rest/scheduler.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="source_file.html" title="Source File Services"
             >next</a> |</li>
        <li class="right" >
          <a href="scale_file.html" title="Scale File Services"
             >previous</a> |</li>
        <li><a href="../../index.html">Scale 3.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Interface</a> &raquo;</li>
          <li><a href="index.html" >RESTful HTTP Interface</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, NGA.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>