openapi: "3.0.0"
info:
  title: Scheduler Services
  version: v5

paths:
  /scheduler:
    get:
      tags:
        - Scheduler Services
      summary: Get Scheduler Details
      description: Returns data for the scheduler
      responses:
        '200':
          description: OK - indicates a successful event
          content:
            application/json: 
              schema:
                $ref: '#/components/schemas/scheduler_data'
        '204':
          description: OK - the Scale scheduler is currently
            offline, so there is no status content to provide.

    patch:
      tags:
        - Scheduler Services
      summary: Update Scheduler Details
      description: Update one or more fields for the scheduler
      requestBody:
        required: true
        content:
          application/json: 
            schema:
              $ref: '#/components/schemas/scheduler_data'
      responses:
        '204':
          description: OK - successfully processed event
        '400':
          description: Error - an issue with the privded update fields
        '404':
          description: Error - the scheduler does not exist

components:
  schemas:
    scheduler_data:
      title: System Scheduler data
      type: object
      properties:
        is_paused:
          type: boolean
          description: True if the scheduler is paused. This functions like individually pausing
            all nodes but maintains separated state so toggling this back to unpaused   
            results in the previous individual node pause state.
          example: false
        num_message_handlers:
          type: integer
          description: The number of message handlers to have scheduled 
          example: 2
        system_logging_level:
          type: string
          description: The logging level for all scale system components
          example: INFO